@{
	Layout = "_Layout";
}

@model TreatShop.Models.Treat;
@using TreatShop.Models;


<div class="page-header">
	<h1>Treat Details</h1>
	<hr>
</div>

<h3>@Html.DisplayNameFor(model => model.Name): @Html.DisplayFor(model => model.Name)</h3>

<div id="form">
	@if (@Model.JoinEntities.Count == 0)
	{
		<p>This Treat has no Flavors</p>
	}
	else
	{
		@foreach (TreatFlavor join in Model.JoinEntities)
		{
			<h3>Flavors: @join.Flavor.Name</h3>
			@using (Html.BeginForm("DeleteJoin", "Treats"))
			{
				@Html.Hidden("joinId", @join.TreatFlavorId)
				<input type="submit" value="Delete" class="btn btn-danger" />
			}
		}
	}
</div>

<p>@Html.ActionLink("Add a Flavor", "AddFlavor", new { id = Model.TreatId})</p>
<p>@Html.ActionLink("Edit this Treat", "Edit", new { id = Model.TreatId })</p>
  <p>@Html.ActionLink("Delete Treat", "Delete", new { id = Model.TreatId })</p>

